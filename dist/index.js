!function(e,t,a,l,n,r,o){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=i(r),c=i(o),m={apiVersion:2,name:"c3/area",title:"Area Chart",description:"An area chart from c3.js",keywords:["area","chart","line"],icon:"chart-area",category:"charts",example:{},attributes:{},supports:{className:!1,align:["wide","left","right"],color:{background:!0,gradients:!1,text:!1}}},p={file:{type:"integer"},caption:{type:"string"},size:{type:"object",items:{width:{type:"integer"},height:{type:"integer"}}},padding:{type:"object",items:{top:{type:"integer"},right:{type:"integer"},bottom:{type:"integer"},left:{type:"integer"},auto:{type:"boolean"}},default:{auto:!0}},color:{type:"object",items:{pattern:{type:"array",items:{type:"string"}},threshhold:{type:"string"}},default:{pattern:["#1f77b4","#B84645","#B1812C","#046C9D","#9FA1A8","#DCB56E"]}},interaction:{type:"object",items:{enabled:{type:"boolean"}},default:{enabled:!0}},transition:{type:"object",items:{duration:{type:"integer"}}},point:{type:"object",items:{show:{type:"boolean"}},default:{show:!1}},data:{type:"object",items:{url:{type:"string"},json:{type:"object"},rows:{type:"array",items:{type:"string"}},columns:{type:"array",items:{type:"string"}},mimeType:{type:"string"},keys:{type:"array",items:{type:"string"}},x:{type:"string"},xFormat:{type:"string"},names:{type:"object"},classes:{type:"object"},labels:{type:"boolean"},groups:{type:"array",items:{type:"array",items:{type:"string"}}},axes:{type:"object"},type:{type:"string",enum:["line","spline","step","area","area-spline","area-step","bar","scatter","stanford","pie","donut","gauge"]},types:{type:"object"},order:{enum:["desc","asc",""]},selection:{type:"object",items:{enabled:{type:"boolean"},grouped:{type:"boolean"},multiple:{type:"boolean"},draggable:{type:"boolean"}}}},default:{groups:[],labels:!1,type:"line",order:"desc",selection:{enabled:!1,grouped:!0,multiple:!0,draggable:!0},x:""}},legend:{type:"object",items:{show:{type:"boolean"},position:{enum:["bottom","right"]}},default:{show:!0,position:"bottom"}},tooltip:{type:"object",items:{show:{type:"boolean"},grouped:{type:"boolean"}},default:{show:!0,grouped:!0}},axis:{type:"object",items:{rotated:{type:"boolean"},x:{show:{type:"boolean"},type:{type:"string",enum:["indexed","timeseries","category","first-column"]},localtime:{type:"boolean"},categories:{type:"array",items:{type:"string"}},tick:{type:"object",items:{centered:{type:"boolean"},format:{type:"string"},culling:{type:"object",items:{type:"object",items:{max:{type:"integer"}}}},count:{type:"integer"},fit:{type:"boolean"},values:{type:"array",items:{type:"string"}},rotate:{type:"integer"},outer:{type:"boolean"},multiline:{type:"boolean"},multilineMax:{type:"integer"}}},max:{type:"number"},min:{type:"number"},padding:{type:"object",items:{top:{type:"integer"},right:{type:"integer"},bottom:{type:"integer"},left:{type:"integer"}}},height:{type:"integer"},extent:{type:"array",items:{type:"integer"}},label:{type:"object",items:{text:{type:"string"},position:{enum:["inner-right","inner-center","inner-left","outer-right","outer-center","outer-left"]}}}},y:{show:{type:"boolean"},inner:{type:"boolean"},type:{enum:["linear","timeseries","time"]},max:{type:"number"},min:{type:"number"},inverted:{type:"boolean"},center:{type:"integer"},label:{type:"object",items:{text:{type:"string"},position:{enum:["inner-top","inner-middle","inner-bottom","outer-top","outer-middle","outer-bottom"]}}},tick:{type:"object",items:{format:{type:"string"},outer:{type:"boolean"},values:{type:"array",items:{type:"string"}},count:{type:"integer"},padding:{type:"integer"},default:{type:"array",items:{type:"integer"}}}},padding:{type:"object",items:{top:{type:"integer"},right:{type:"integer"},bottom:{type:"integer"},left:{type:"integer"}}},default:{type:"array",items:{type:"integer"}},primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},y2:{type:"object",items:{show:{type:"boolean"},inner:{type:"boolean"},type:{enum:["linear","timeseries","time"]},max:{type:"number"},min:{type:"number"},inverted:{type:"boolean"},center:{type:"integer"},label:{type:"object",items:{text:{type:"string"},position:{enum:["inner-top","inner-middle","inner-bottom","outer-top","outer-middle","outer-bottom"]}}},tick:{type:"object",items:{format:{type:"string"},outer:{type:"boolean"},values:{type:"array",items:{type:"integer"}},count:{type:"integer"}}},padding:{type:"object",items:{top:{type:"integer"},right:{type:"integer"},bottom:{type:"integer"},left:{type:"integer"}}},default:{type:"array",items:{type:"integer"}}}}},default:{rotated:!1,x:{show:!0,type:"first-column",localtime:!0,tick:{centered:!1,culling:!1,fit:!0,outer:!0,multiline:!1,multilineMax:0},label:{text:"",position:"outer-center"}},y:{show:!0,inner:!1,type:"linear",inverted:!1,tick:{centered:!1,culling:!1},padding:{top:3,bottom:0},primary:"",secondary:"",label:{text:"",position:"outer-middle"}},y2:{show:!1,inner:!1,type:"linear",inverted:!1,padding:{top:3},label:{text:"",position:"outer-middle"}}}},grid:{type:"object",items:{x:{type:"object",items:{show:{type:"boolean"},lines:{type:"array",items:{type:"object",items:{value:{type:"number"},text:{type:"string"},position:{enum:["","middle","start"]}}}},stroke:{type:"string",enum:["","dashed"]}}},y:{type:"object",items:{show:{type:"boolean"},lines:{type:"array",items:{type:"object",items:{value:{type:"number"},text:{type:"string"},position:{enum:["","middle","start"]}}}},stroke:{type:"string",enum:["","dashed"]}}}},default:{x:{show:!1,lines:[],type:"indexed",stroke:""},y:{show:!0,lines:[],type:"linear",stroke:""}}},regions:{type:"array",items:{type:"object",items:{axis:{enum:["x","y","y2"]},start:{type:"number"},end:{type:"number"},class:{type:"string"}}},default:[]},zoom:{type:"boolean",default:!1},subchart:{type:"boolean",default:!1},chartLabel:{type:"string"},chartLabel2:{type:"string"},download:{type:"boolean",default:!0},downloadText:{type:"string",default:"Download chart"},downloadName:{type:"string",default:"chart"},trend:{type:"object",items:{show:{type:"boolean",default:!1},label:{type:"string"},col:{type:"string"}},default:{show:!1,label:"Trend"}}};function d(e){let{accept:n="text/csv",addToGallery:r=!1,allowedTypes:o=["text/csv"],help:i,label:s,labels:c={title:"Select CSV File",instructions:""},onSelect:m,removeMediaLabel:p="Remove CSV File",value:d,multiple:u=!1}=e;const g=l.useSelect((e=>e("core").getMedia(d)),[d]);return wp.element.createElement(a.BaseControl,{label:s,help:i},wp.element.createElement("div",{className:"wikit-charts-csv-control"},d?wp.element.createElement(t.MediaUploadCheck,null,wp.element.createElement(t.MediaUpload,{allowedTypes:o,value:d,onSelect:e=>m(e),render:e=>{let{open:t}=e;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.Button,{onClick:t,icon:"media-spreadsheet",isSecondary:!0,isBusy:d&&!g,style:{width:"100%",justifyContent:"flex-start",overflow:"hidden"}},g?g.source_url.split("/").pop():wp.element.createElement(a.Spinner,null)))}})):wp.element.createElement(t.MediaUploadCheck,{fallback:"You do not have the upload media capability."},wp.element.createElement(t.MediaPlaceholder,{accept:n,addToGallery:r,allowedTypes:o,labels:c,onSelect:e=>m(e),multiple:u}))))}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},u.apply(this,arguments)}const g=window.wdg.charts.config||{};function h(e){const t=["wdg-c3-chart"];return e?.data?.type&&(t.push(`wdg-c3-chart--${e.data.type}`),["line","bar","area","area-spline","spline"].includes(e.data.type)&&(e?.grid?.x?.stroke&&t.push(`wdg-c3-chart--x-grid-line-${e.grid.x.stroke}`),e?.grid?.y?.stroke&&t.push(`wdg-c3-chart--y-grid-line-${e.grid.y.stroke}`))),t}const b=["c3/area-spline","c3/area","c3/bar","c3/donut","c3/line","c3/pie","c3/scatter","c3/spline"];function y(t){return{type:"block",blocks:b.filter((e=>e!==t)),transform:a=>e.createBlock(t,a)}}function w(e){function t(e){return a(e)/e.length}function a(e){return e.reduce(((e,t)=>e+t),0)}let l;if(!e.data.rows.length)return;if(e.trend.col?l=e.data.rows[0].indexOf(e.trend.col):e.data.rows[0].length&&(l=0),l<0)return null;const n=[...Array(e.data.rows.length-1).keys()],r=e.data.rows.slice(1).map((e=>parseFloat(e[l]))),o=t(n),i=t(r),s=n.map((e=>e-o)),c=r.map((e=>e-i)),m=s.map((e=>Math.pow(e,2))),p=[];for(let t=0,a=e.data.rows.length;t<a-1;t++)p.push(s[t]*c[t]);const d=a(p)/a(m),u=i-d*o,g=[];for(let t=1,a=e.data.rows.length;t<a;t++)g.push(u+d*n[t-1]);return{slope:d,yStart:u,calcY:e=>u+d*e,values:g}}function x(e){let{file:t=0,type:r,attributes:i,setAttributes:c,...m}=e;const p=l.useSelect((e=>e("core").getMedia(t)),[t]),d=n.useRef(),[h,b]=n.useState(null),[y,x]=n.useState(null);return n.useEffect((()=>{const e=setTimeout((()=>{if(p&&p.source_url){let e=p.c3ChartData.raw;const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={...g,...e,...t};if(a.data.axes=a.data.axes||{},a.axis&&a.axis.y&&a.axis.y.secondary&&(a.data.axes={},a.data.rows.length>0&&(a.data.rows[0].filter((e=>e)).forEach((e=>{Array.isArray(a.axis.y.secondary)&&a.axis.y.secondary.includes(e)||a.axis.y.secondary===e?a.data.axes[e]="y2":a.data.axes[e]="y"})),a.axis.y2.show=Object.keys(a.data.axes).map((e=>a.data.axes[e])).filter((e=>"y2"===e)).length>0)),a?.padding?.auto&&delete a.padding,a.hasOwnProperty("caption")&&delete a.caption,"%Y:$QQ"===a.axis.x.tick.format?a.axis.x.tick.format=function(e){return`${e.getFullYear()}:Q${[1,1,1,2,2,2,3,3,3,4,4,4][e.getMonth()]}`}:"%Y:$HH"===a.axis.x.tick.format&&(a.axis.x.tick.format=function(e){return`${e.getFullYear()}:H${e.getMonth()<=5?"1":"2"}`}),a.axis&&a.axis.y&&a.axis.y.label&&!a.axis.y.label.text&&delete a.axis.y.label,a.trend&&a.trend.show){const t=w(a,a.trend.col);if(t){const l=a.trend.label||"Trend";a.data.types={...e.data.types||{},[l]:"line"},a.data.rows=[...a.data.rows];for(let e=0,n=a.data.rows.length;e<n;e++)a.data.rows[e]=0===e?[...a.data.rows[e],l]:[...a.data.rows[e],t.values[e-1]];a.color.pattern=[...a.color.pattern],""===a.data.rows[0][0]?a.color.pattern[a.data.rows[0].length-2]="#000000":a.color.pattern[a.data.rows[0].length-1]="#000000"}}return a}(o.cloneDeep(i),{bindto:d.current,color:{pattern:g.schemes[r]||g.color||[]},data:{...i.data,type:r,["scatter"===r?"columns":"rows"]:e}});t.axis.fit=!1,console.log(t),"first-column"===t.axis.x.type&&p.c3ChartData&&p.c3ChartData.firstColumn&&(t.axis.x.type="category",t.axis.x.categories=p.c3ChartData.firstColumn.slice(1),t.data.rows=t.data.rows.map((e=>e.slice(1))),delete t.data.url),localStorage.getItem("c3Debug")&&console.log(t),o.isEqual(y,t)||(x(t),b(s.default.generate(t)))}}),350);return()=>{e&&clearTimeout(e)}}),[r,p,d.current,i]),t?p?wp.element.createElement("div",u({ref:d},m)):wp.element.createElement(a.Spinner,null):null}const C=["text/csv","application/vnd.ms-excel"];function v(e){let{type:r,attributes:i,setAttributes:s,children:c}=e;const m=l.useSelect((e=>e("core").getMedia(i.file)),[i.file]),p=e=>{const t=o.cloneDeep(i);t.file=e.id,t.data=o.merge(t.data||{},{source_url:e.source_url}),s(t)},u=(e,t)=>{const a=o.cloneDeep(i);o.set(a,e,t),s(a)},g=e=>{const t=o.cloneDeep(i);o.unset(t,e),s(t)},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.get(i,e,t)},b=(e,t)=>{let a=t.lastIndexOf("-");for(;a>0;)a=(t=t.slice(0,a)+t.slice(a+1)).lastIndexOf("-");return""===(t=t.replace(/[^-\d]/g,""))?g(e):u(e,"-"===t?t:Number(t))},y=(e,t)=>{let a=t.lastIndexOf("-");for(;a>0;)a=(t=t.slice(0,a)+t.slice(a+1)).lastIndexOf("-");return""===(t=(t=t.replace(/[^-\.\d]/g,"")).replace(/\.{2,}$/,"."))?g(e):"-"===t||t.match(/\.$/)?u(e,t):u(e,Number(t))};return n.useEffect((()=>{if(["bar"].includes(r)){const e=h("data.groups");e&&e.length&&(m&&m.csvData&&m.csvData.headers?u("data.groups",[m.csvData.headers.filter((e=>e))]):u("data.groups",[]))}h("axis.y.secondary").length&&u("axis.y.secondary",[])}),[m]),wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.InspectorControls,null,wp.element.createElement(a.Panel,null,wp.element.createElement(a.PanelBody,{title:"Data",initialOpen:!0},wp.element.createElement(d,{value:h("file"),onSelect:p}),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.ToggleControl,{label:"Labels",checked:h("data.labels",!0),onChange:e=>u("data.labels",e)})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.ToggleControl,{label:"Rotate Axes",checked:h("axis.rotated"),onChange:e=>u("axis.rotated",e),help:"Switch the X/Y axis. Use this for example to create a horizontal bar chart."})),["bar"].includes(r)&&m&&m.c3ChartData&&wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.ToggleControl,{label:"Stacked Bar Chart",checked:h("data.groups").length>0,onChange:e=>{u("data.groups",e?[m.c3ChartData.headers.filter((e=>e))]:[])}})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.ToggleControl,{label:"Download Enabled",checked:h("download"),onChange:e=>u("download",e)})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:"Download Text",value:h("downloadText"),onChange:e=>u("downloadText",e),disabled:!h("download")})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:"Download File Name",value:h("downloadName"),onChange:e=>u("downloadName",e),disabled:!h("download")}))),["line"].includes(r)&&wp.element.createElement(a.PanelBody,{title:"Line Chart",initialOpen:!0},wp.element.createElement(a.ToggleControl,{label:"Show Points",checked:h("point.show",!0),onChange:e=>u("point.show",e)})),wp.element.createElement(a.PanelBody,{title:"Size"},wp.element.createElement(a.TextControl,{label:"Height",help:"Defaults to 480 pixels",type:"number",placeholder:"480",value:h("size.height",""),onChange:e=>u("size.height",e)}),wp.element.createElement(a.TextControl,{label:"Width",help:"Defaults to the width of the containing element",type:"number",placeholder:"100%",value:h("size.width",""),onChange:e=>u("size.width",e)})),["line","bar","spline","area","area-spline","scatter"].includes(r)&&wp.element.createElement(a.PanelBody,{title:"Padding",initialOpen:!0},wp.element.createElement(a.ToggleControl,{label:"Auto",checked:h("padding.auto",!0),onChange:e=>u("padding.auto",e)}),wp.element.createElement(a.Flex,null,wp.element.createElement(a.FlexItem,null,wp.element.createElement(a.TextControl,{label:"Top",type:"number",value:h("padding.top",""),onChange:e=>u("padding.top",Number(e)),disabled:h("padding.auto")})),wp.element.createElement(a.FlexItem,null,wp.element.createElement(a.TextControl,{label:"Right",type:"number",value:h("padding.right",""),onChange:e=>u("padding.right",Number(e)),disabled:h("padding.auto")})),wp.element.createElement(a.FlexItem,null,wp.element.createElement(a.TextControl,{label:"Bottom",type:"number",value:h("padding.bottom",""),onChange:e=>u("padding.bottom",Number(e)),disabled:h("padding.auto")})),wp.element.createElement(a.FlexItem,null,wp.element.createElement(a.TextControl,{label:"Left",type:"number",value:h("padding.left",""),onChange:e=>u("padding.left",Number(e)),disabled:h("padding.auto")})))),wp.element.createElement(a.PanelBody,{title:"Legend",initialOpen:!1},wp.element.createElement(a.ToggleControl,{label:"Legend",checked:h("legend.show",!0),onChange:e=>u("legend.show",e)}),wp.element.createElement(a.SelectControl,{label:"Legend Position",value:h("legend.position"),options:[{label:"Bottom",value:"bottom"},{label:"Right",value:"right"}],onChange:e=>u("legend.position",e),disabled:!h("legend.show")})),wp.element.createElement(a.PanelBody,{title:"Tooltip",initialOpen:!1},wp.element.createElement(a.ToggleControl,{label:"Tooltip",checked:h("tooltip.show",!0),onChange:e=>u("tooltip.show",e)}),wp.element.createElement(a.ToggleControl,{label:"Group Tooltip",checked:h("tooltip.grouped",!1),onChange:e=>u("tooltip.grouped",e),disabled:!h("tooltip.show",!0)})),["line","bar","spline","area","area-spline","scatter"].includes(r)&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.PanelBody,{title:"X Axis",initialOpen:!1},wp.element.createElement(a.ToggleControl,{label:"Show",checked:h("axis.x.show",!0),onChange:e=>u("axis.x.show",e)}),wp.element.createElement(a.SelectControl,{label:"Type",value:h("axis.x.type","indexed"),options:[{value:"indexed",label:"Default"},{value:"timeseries",label:"Timeseries"},{value:"category",label:"Category"},{value:"first-column",label:"First Column"}],onChange:e=>{const t=o.cloneDeep(i);t.axis.x.type=e,"timeseries"===e?(t.axis.x.format="%Y-%m-%d",t.data.x=o.get(m,"c3ChartData.headers[0]","")):(o.unset(t,"axis.x.format"),o.unset(t,"axis.tick.format"),o.unset(t,"data.x")),s(t)},disabled:!h("axis.x.show",!1)}),"timeseries"===h("axis.x.type")&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.SelectControl,{label:"Timeseries Input Format",value:h("data.xFormat","%Y-%m-%d"),onChange:e=>u("data.xFormat",e),options:[{value:"%Y-%m-%d",label:"YYYY-MM-DD (2020-07-03)"},{value:"%m/%d/%Y",label:"MM/DD/YYYY (07/03/2020)"},{value:"",label:"None"}]}),wp.element.createElement(a.SelectControl,{label:"Timeseries Tick Format",value:h("axis.x.tick.format",""),onChange:e=>u("axis.x.tick.format",e),options:[{value:"",label:"None"},{value:"%Y",label:"Year Only (2020)"},{value:"%b",label:"Month Only (Jul)"},{value:"%b %e, %Y",label:"Month, day, year (Jul 3, 2020)"},{value:"%b %e",label:"Month, day (Jul 3)"},{value:"%b %Y",label:"Month, year (Jul 2020)"},{value:"%Y:$QQ",label:"Quarter Only (2020:Q3)"},{value:"%Y:$HH",label:"Half Only (2020:H2)"}]})),"category"===h("axis.x.type")&&wp.element.createElement(a.BaseControl,{label:"Categories",help:"Enter the categories for the X axis labels"},h("axis.x.categories",[]).map(((e,t)=>wp.element.createElement(a.Flex,{key:t,align:"center"},wp.element.createElement(a.FlexBlock,null,wp.element.createElement(a.TextControl,{value:e,onChange:e=>u(`axis.x.categories[${t}]`,e)})),wp.element.createElement(a.FlexItem,null,wp.element.createElement(a.Button,{isLink:!0,isDestructive:!0,onClick:()=>u("axis.x.categories",h("axis.x.categories").filter(((e,a)=>a!==t))),style:{textDecoration:"none",marginBottom:"8px"}},wp.element.createElement(a.Icon,{icon:"dismiss"})))))),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.Button,{isLink:!0,onClick:()=>{const e=[...h("axis.x.categories",[])];e.push(""),u("axis.x.categories",e)}},"Add Category"))),wp.element.createElement(a.TextControl,{label:"Label Text",value:h("axis.x.label.text",""),onChange:e=>u("axis.x.label.text",e)}),wp.element.createElement(a.SelectControl,{label:"Label Position",options:[{value:"inner-right",label:"Inner Right"},{value:"inner-center",label:"Inner Center"},{value:"inner-left",label:"Inner Left"},{value:"outer-right",label:"Outer Right"},{value:"outer-center",label:"Outer Center"},{value:"outer-left",label:"Outer Left"}],value:h("axis.x.label.position","inner-right"),onChange:e=>u("axis.x.label.position",e)}),wp.element.createElement(a.TextControl,{label:"Tick Culling",help:"Set the maximum number of ticks. 0 means all will be shown.",type:"number",value:h("axis.x.tick.culling.max",0),onChange:e=>u("axis.x.tick.culling.max",e)}),wp.element.createElement(a.BaseControl,{label:"Manual Ticks",help:"Manually enter the ticks to be shown. They will automatically be placed on the axis based on the available data."},h("axis.x.tick.values",[]).map(((e,t)=>wp.element.createElement(a.Flex,{key:t,align:"center"},wp.element.createElement(a.FlexBlock,null,wp.element.createElement(a.TextControl,{value:e,onChange:e=>u(`axis.x.tick.values[${t}]`,e)})),wp.element.createElement(a.FlexItem,null,wp.element.createElement(a.Button,{isLink:!0,isDestructive:!0,onClick:()=>{i.axis.x.tick.values.length>1?u("axis.x.tick.values",i.axis.x.tick.values.filter(((e,a)=>a!==t))):g("axis.x.tick.values")},style:{textDecoration:"none",marginBottom:"8px"}},wp.element.createElement(a.Icon,{icon:"dismiss"})))))),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.Button,{isLink:!0,onClick:()=>{const e=[...h("axis.x.tick.values",[])];e.push(""),u("axis.x.tick.values",e)}},"Add Manual Tick Value"))),wp.element.createElement(a.TextControl,{label:"Tick Rotation (Degrees: 0 - 359)",type:"number",min:"0",max:"359",value:h("axis.x.tick.rotate"),onChange:e=>u("axis.x.tick.rotate",Math.min(Math.max(e,0),359))}),wp.element.createElement(a.ToggleControl,{label:"Multiline Tick",checked:h("axis.x.tick.multiline",!0),onChange:e=>u("axis.x.tick.multiline",e)}),wp.element.createElement(a.TextControl,{label:"Maximum",pattern:"[0-9]",value:h("axis.x.max",""),onChange:e=>y("axis.x.max",e)}),wp.element.createElement(a.TextControl,{label:"Minimum",value:h("axis.x.min",""),pattern:"[0-9]",onChange:e=>y("axis.x.min",e)}),["indexed","timeseries"].includes(h("axis.x.type"))&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.TextControl,{label:"Left Padding",type:"number",value:h("axis.x.padding.left",0),onChange:e=>b("axis.x.padding.left",e)}),wp.element.createElement(a.TextControl,{label:"Right Padding",type:"number",value:h("axis.x.padding.right",0),onChange:e=>b("axis.x.padding.right",e)}))),wp.element.createElement(a.PanelBody,{title:"Y Axis",initialOpen:!1},wp.element.createElement(a.ToggleControl,{label:"Show",checked:h("axis.y.show",!0),onChange:e=>u("axis.y.show",e)}),wp.element.createElement(a.TextControl,{label:"Label Text",value:h("axis.y.label.text",""),onChange:e=>u("axis.y.label.text",e)}),wp.element.createElement(a.SelectControl,{label:"Label Position",options:[{value:"inner-top",label:"Inner Top"},{value:"inner-middle",label:"Inner Middle"},{value:"inner-bottom",label:"Inner Bottom"},{value:"outer-top",label:"Outer Top"},{value:"outer-middle",label:"Outer Middle"},{value:"outer-bottom",label:"Outer Bottom"}],value:h("axis.y.label.position","inner-top"),onChange:e=>u("axis.y.label.position",e)}),wp.element.createElement(a.TextControl,{label:"Tick Count",help:"Set the number of y axis ticks. Leave empty to automatically calculate tick values.",type:"number",value:h("axis.y.tick.count",0)>0?h("axis.y.tick.count"):"",onChange:e=>u("axis.y.tick.count",Number(e))}),wp.element.createElement(a.BaseControl,{label:"Manual Ticks",help:"Manually enter the ticks to be shown. They will automatically be placed on the axis based on the available data."},h("axis.y.tick.values",[]).map(((e,t)=>wp.element.createElement(a.Flex,{key:t,align:"center"},wp.element.createElement(a.FlexBlock,null,wp.element.createElement(a.TextControl,{value:e,onChange:e=>u(`axis.y.tick.values[${t}]`,e)})),wp.element.createElement(a.FlexItem,null,wp.element.createElement(a.Button,{isLink:!0,isDestructive:!0,onClick:()=>{i.axis.y.tick.values.length>1?u("axis.y.tick.values",i.axis.y.tick.values.filter(((e,a)=>a!==t))):g("axis.y.tick.values")},style:{textDecoration:"none",marginBottom:"8px"}},wp.element.createElement(a.Icon,{icon:"dismiss"})))))),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.Button,{isLink:!0,onClick:()=>{const e=[...h("axis.y.tick.values",[])];e.push(""),u("axis.y.tick.values",e)}},"Add Manual Tick Value"))),wp.element.createElement(a.TextControl,{label:"Maximum",value:h("axis.y.max"),onChange:e=>y("axis.y.max",e)}),wp.element.createElement(a.TextControl,{label:"Minimum",value:h("axis.y.min"),onChange:e=>y("axis.y.min",e)}),wp.element.createElement(a.ToggleControl,{label:"Inverted",checked:h("axis.y.inverted",!1),onChange:e=>u("axis.y.inverted",e)}),["indexed","timeseries"].includes(h("axis.x.type"))&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.TextControl,{label:"Top Padding",type:"number",value:h("axis.y.padding.top",0),onChange:e=>b("axis.y.padding.top",e)}),wp.element.createElement(a.TextControl,{label:"Bottom Padding",type:"number",value:h("axis.y.padding.bottom",0),onChange:e=>b("axis.y.padding.bottom",e)}))),m&&m.c3ChartData&&m.c3ChartData.headers&&wp.element.createElement(a.PanelBody,{title:"Y2 Axis",initialOpen:!1},wp.element.createElement(a.BaseControl,{label:"Secondary Y Axis",help:"Select which columns will be displayed on the secondary y axis"},m.c3ChartData.headers.filter((e=>e)).map(((e,t)=>wp.element.createElement(a.ToggleControl,{key:t,label:e,disabled:!h("axis.y.show",!0),checked:Array.isArray(h("axis.y.secondary"))?h("axis.y.secondary").includes(e):h("axis.y.secondary")===e,onChange:t=>{let a=h("axis.y.secondary");Array.isArray(a)||(a=[a]),a=a.filter((e=>e)),!t&&a.includes(e)?u("axis.y.secondary",a.filter((t=>t!==e))):t&&u("axis.y.secondary",[...a,e])}})))),wp.element.createElement(a.TextControl,{label:"Secondary Y Axis Label Text",value:h("axis.y2.label.text",""),onChange:e=>u("axis.y2.label.text",e)}),wp.element.createElement(a.SelectControl,{label:"Secondary Y Axis Label Position",options:[{value:"inner-top",label:"Inner Top"},{value:"inner-middle",label:"Inner Middle"},{value:"inner-bottom",label:"Inner Bottom"},{value:"outer-top",label:"Outer Top"},{value:"outer-middle",label:"Outer Middle"},{value:"outer-bottom",label:"Outer Bottom"}],value:h("axis.y2.label.position","inner-top"),onChange:e=>u("axis.y2.label.position",e)}),wp.element.createElement(a.BaseControl,{label:"Manual Ticks",help:"Manually enter the ticks to be shown. They will automatically be placed on the axis based on the available data."},h("axis.y2.tick.values",[]).map(((e,t)=>wp.element.createElement(a.Flex,{key:t,align:"center"},wp.element.createElement(a.FlexBlock,null,wp.element.createElement(a.TextControl,{value:e,onChange:e=>u(`axis.y2.tick.values[${t}]`,e)})),wp.element.createElement(a.FlexItem,null,wp.element.createElement(a.Button,{isLink:!0,isDestructive:!0,onClick:()=>{i.axis.y.tick.values.length>1?u("axis.y2.tick.values",i.axis.y.tick.values.filter(((e,a)=>a!==t))):g("axis.y2.tick.values")},style:{textDecoration:"none",marginBottom:"8px"}},wp.element.createElement(a.Icon,{icon:"dismiss"})))))),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.Button,{isLink:!0,onClick:()=>{const e=[...h("axis.y2.tick.values",[])];e.push(""),u("axis.y2.tick.values",e)}},"Add Manual Tick Value"))),wp.element.createElement(a.TextControl,{label:"Maximum",value:h("axis.y2.max"),onChange:e=>y("axis.y2.max",e)}),wp.element.createElement(a.TextControl,{label:"Minimum",value:h("axis.y2.min"),onChange:e=>y("axis.y2.min",e)}),wp.element.createElement(a.ToggleControl,{label:"Inverted",checked:h("axis.y2.inverted",!1),onChange:e=>u("axis.y2.inverted",e)}))),wp.element.createElement(a.PanelBody,{title:"Trend",initialOpen:!1},wp.element.createElement(a.ToggleControl,{label:"Add trend line",checked:h("trend.show"),onChange:e=>u("trend.show",e),help:"Add a trend line to the chart."}),wp.element.createElement(a.TextControl,{label:"Trend Label",help:"Add a label for the trend line",value:h("trend.label"),onChange:e=>u("trend.label",e),disabled:!h("trend.show")}),m&&m.c3ChartData&&m.c3ChartData.headers&&wp.element.createElement(a.SelectControl,{label:"Trend Column",value:h("trend.col"),options:m.c3ChartData.headers.map((e=>({value:e,label:e}))),onChange:e=>u("trend.col",e)})),["line","bar","area","area-spline","spline","scatter"].includes(r)&&wp.element.createElement(a.PanelBody,{title:"Grid",initialOpen:!1},wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.ToggleControl,{label:"Show X Axis Grid",checked:h("grid.x.show",!1),onChange:e=>u("grid.x.show",e)})),h("grid.x.lines",[]).length?h("grid.x.lines").map(((e,t)=>wp.element.createElement("div",{key:t},wp.element.createElement(a.TextControl,{label:"Line Value",value:e.value,onChange:e=>u(`grid.x.lines[${t}].value`,e)}),wp.element.createElement(a.TextControl,{label:"Line Label",value:e.text,onChange:e=>u(`grid.x.lines[${t}].text`,e)}),wp.element.createElement(a.SelectControl,{label:"Label Position",value:e.position,onChange:e=>u(`grid.x.lines[${t}].position`,e),options:[{value:"",label:"End"},{value:"middle",label:"Middle"},{value:"start",label:"Start"}]}),wp.element.createElement(a.Button,{isLink:!0,isDestructive:!0,onClick:()=>u("grid.x.lines",i.grid.x.lines.filter(((e,a)=>a!==t)))},"Remove Grid Line"),wp.element.createElement("hr",null)))):null,wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.Button,{isLink:!0,onClick:()=>{const e=[...i.grid.x.lines];e.push({value:0,text:"Grid Line",position:""}),u("grid.x.lines",e)}},"Add X Grid Line")),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.SelectControl,{label:"X Grid Stroke",value:h("grid.x.stroke",""),onChange:e=>u("grid.x.stroke",e),options:[{value:"",label:"Solid"},{value:"dashed",label:"Dashed"}]})),wp.element.createElement("hr",null),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.ToggleControl,{label:"Show Y Axis Grid",checked:h("grid.y.show",!1),onChange:e=>u("grid.y.show",e)})),h("grid.y.lines",[]).length?h("grid.y.lines").map(((e,t)=>wp.element.createElement("div",{key:t},wp.element.createElement(a.TextControl,{label:"Line Value",value:e.value,onChange:e=>u(`grid.y.lines[${t}].value`,e)}),wp.element.createElement(a.TextControl,{label:"Line Label",value:e.text,onChange:e=>u(`grid.y.lines[${t}].text`,e)}),wp.element.createElement(a.SelectControl,{label:"Label Position",value:e.position,onChange:e=>u(`grid.y.lines[${t}].position`,e),options:[{value:"",label:"End"},{value:"middle",label:"Middle"},{value:"start",label:"Start"}]}),wp.element.createElement(a.Button,{isLink:!0,isDestructive:!0,onClick:()=>u("grid.y.lines",i.grid.y.lines.filter(((e,a)=>a!==t)))},"Remove Grid Line"),wp.element.createElement("hr",null)))):null,wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.Button,{isLink:!0,onClick:()=>{const e=[...i.grid.y.lines];e.push({value:0,text:"Grid Line",position:""}),u("grid.y.lines",e)}},"Add Y Grid Line")),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.SelectControl,{label:"Y Grid Stroke",value:h("grid.y.stroke",""),onChange:e=>u("grid.y.stroke",e),options:[{value:"",label:"Solid"},{value:"dashed",label:"Dashed"}]}))),["line","bar","area","area-spline","spline","scatter"].includes(r)&&wp.element.createElement(a.PanelBody,{title:"Regions",initialOpen:!1},i.regions&&i.regions.map(((e,t)=>wp.element.createElement("div",{key:t},wp.element.createElement(a.SelectControl,{label:"Axis",value:e.axis,onChange:e=>u(`regions[${t}].axis`,e),options:[{value:"x",label:"X Axis"},{value:"y",label:"Y Axis"},{value:"y2",label:"Secondary Y Axis",disabled:!h("axis.y.secondary",!1)}]}),wp.element.createElement(a.TextControl,{label:"Start",value:e.start,onChange:e=>u(`regions[${t}].start`,e)}),wp.element.createElement(a.TextControl,{label:"End",value:e.end,onChange:e=>u(`regions[${t}].end`,e)}),wp.element.createElement(a.Button,{isLink:!0,isDestructive:!0,onClick:()=>u("regions",i.regions.filter(((e,a)=>a!==t)))},"Remove Region"),wp.element.createElement("hr",null)))),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.Button,{isLink:!0,onClick:()=>{const e=[...i.regions];e.push({axis:"x",start:0,end:10,class:""}),u("regions",e)}},"Add Region"))),wp.element.createElement(a.PanelBody,{title:"Experimental",initialOpen:!1},wp.element.createElement(a.ToggleControl,{label:"Zoom Enabled",checked:i.zoom,onChange:e=>u("zoom",e)}),wp.element.createElement(a.ToggleControl,{label:"Sub Chart",checked:i.subchart,onChange:e=>u("subchart",e)})))),wp.element.createElement(t.BlockControls,null,wp.element.createElement(a.Toolbar,null,wp.element.createElement(t.MediaReplaceFlow,{media:m&&m.source_url?m.source_url:"",mediaId:i.file,allowedTypes:C,accept:C.join(","),onSelect:p,name:i.file?"Replace CSV Data File":"Select CSV Data File"}))),i.file?c||wp.element.createElement(x,{type:r,file:i.file,attributes:i,setAttributes:s}):wp.element.createElement(d,{value:i.file,onSelect:p}))}function E(e){let{attributes:a}=e;return a.caption?wp.element.createElement(t.RichText.Content,{tagName:"figcaption",className:"c3-chart__caption",value:a.caption}):null}m.attributes=o.merge(o.cloneDeep(p),m.attributes||{}),m.edit=e=>{let{attributes:a,setAttributes:l,isSelected:n}=e;return wp.element.createElement("figure",t.useBlockProps({className:h(a).join(" ")}),(a.chartLabel||a.chartLabel2||n)&&wp.element.createElement("div",{className:"wdg-c3-chart__labels"},(a.chartLabel||n)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--1",value:a.chartLabel,onChange:e=>l({chartLabel:e}),allowedFormats:[],placeholder:"Y Axis Label..."}),(a.chartLabel2||n)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--2",value:a.chartLabel2,onChange:e=>l({chartLabel2:e}),allowedFormats:[],placeholder:"Y2 Axis Label..."})),wp.element.createElement(v,{type:"area",attributes:a,setAttributes:l}),wp.element.createElement(t.RichText,{tagName:"figcaption",className:"wdg-c3-chart__caption",value:a.caption,onChange:e=>l({caption:e}),allowedFormats:["core/link","core/bold","core/italic"],placeholder:"Chart caption..."}))},m.save=E,m.transforms={from:[y(m.name)]},e.registerBlockType(m.name,m);var f={apiVersion:2,name:"c3/area-spline",title:"Area Spline Chart",description:"An area spline chart from c3.js",keywords:["area","chart","line"],icon:"chart-area",category:"charts",example:{},attributes:{},supports:{className:!1,align:["wide","left","right"],color:{background:!0,gradients:!1,text:!1}}};f.attributes=o.merge(o.cloneDeep(p),f.attributes||{}),f.edit=e=>{let{attributes:a,setAttributes:l,isSelected:n}=e;return wp.element.createElement("figure",t.useBlockProps({className:h(a).join(" ")}),(a.chartLabel||a.chartLabel2||n)&&wp.element.createElement("div",{className:"wdg-c3-chart__labels"},(a.chartLabel||n)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--1",value:a.chartLabel,onChange:e=>l({chartLabel:e}),allowedFormats:[],placeholder:"Y Axis Label..."}),(a.chartLabel2||n)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--2",value:a.chartLabel2,onChange:e=>l({chartLabel2:e}),allowedFormats:[],placeholder:"Y2 Axis Label..."})),wp.element.createElement(v,{type:"area-spline",attributes:a,setAttributes:l}),wp.element.createElement(t.RichText,{tagName:"figcaption",className:"wdg-c3-chart__caption",value:a.caption,onChange:e=>l({caption:e}),allowedFormats:["core/link","core/bold","core/italic"],placeholder:"Chart caption..."}))},f.save=E,f.transforms={from:[y(f.name)]},e.registerBlockType(f.name,f);var k={apiVersion:2,name:"c3/bar",title:"Bar Chart",description:"A bar chart from c3.js",keywords:["bar","chart"],icon:"chart-bar",category:"charts",example:{},attributes:{},supports:{className:!1,align:["wide","left","right"],color:{background:!0,gradients:!1,text:!1}}};k.attributes=c.default.merge(c.default.cloneDeep(p),k.attributes||{}),k.edit=e=>{let{attributes:n,setAttributes:r,isSelected:o}=e;const i=l.useSelect((e=>e("core").getMedia(n.file)),[n.file]);return wp.element.createElement("figure",t.useBlockProps({className:h(n).join(" ")}),(n.chartLabel||n.chartLabel2||o)&&wp.element.createElement("div",{className:"wdg-c3-chart__labels"},(n.chartLabel||o)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--1",value:n.chartLabel,onChange:e=>r({chartLabel:e}),allowedFormats:[],placeholder:"Y Axis Label..."}),(n.chartLabel2||o)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--2",value:n.chartLabel2,onChange:e=>r({chartLabel2:e}),allowedFormats:[],placeholder:"Y2 Axis Label..."})),wp.element.createElement(v,{type:"bar",attributes:n,setAttributes:r,controls:()=>wp.element.createElement(a.PanelBody,{title:"Bar Chart",initialOpen:!0,icon:k.icon},i?wp.element.createElement(a.ToggleControl,{label:"Stacked Bar Chart",checked:n.data&&n.data.groups&&n.data.groups.length>0,onChange:e=>{const t=cloneDeep(n);t.data=t.data||{},t.data.groups=e?[i.c3ChartData.headers]:[],r(t)}}):wp.element.createElement(a.Spinner,null))}),wp.element.createElement(t.RichText,{tagName:"figcaption",className:"wdg-c3-chart__caption",value:n.caption,onChange:e=>r({caption:e}),allowedFormats:["core/link","core/bold","core/italic"],placeholder:"Chart caption..."}))},k.save=E,k.transforms={from:[y(k.name)]},e.registerBlockType(k.name,k);var T={apiVersion:2,name:"c3/donut",title:"Donut Chart",description:"A donut chart from c3.js",keywords:["donut","chart"],icon:"chart-line",category:"charts",example:{},supports:{className:!1,align:["wide","left","right"],color:{background:!0,gradients:!1,text:!1}}};T.attributes=o.merge(o.cloneDeep(p),T.attributes||{}),T.edit=e=>{let{attributes:a,setAttributes:l}=e;return wp.element.createElement("figure",t.useBlockProps({className:h(a).join(" ")}),wp.element.createElement(v,{type:"donut",attributes:a,setAttributes:l}),wp.element.createElement(t.RichText,{tagName:"figcaption",className:"wdg-c3-chart__caption",value:a.caption,onChange:e=>l({caption:e}),allowedFormats:["core/link","core/bold","core/italic"],placeholder:"Chart caption..."}))},T.save=E,T.transforms={from:[y(T.name)]},e.registerBlockType(T.name,T);var L={apiVersion:2,name:"c3/line",title:"Line Chart",description:"A line chart from c3.js",keywords:["line","chart"],icon:"chart-line",category:"charts",example:{},supports:{className:!1,align:["wide","left","right"],color:{background:!0,gradients:!1,text:!1}}};L.attributes=o.merge(o.cloneDeep(p),L.attributes||{}),L.edit=e=>{let{attributes:a,setAttributes:l,isSelected:n}=e;return wp.element.createElement("figure",t.useBlockProps({className:h(a)}),(a.chartLabel||a.chartLabel2||n)&&wp.element.createElement("div",{className:"wdg-c3-chart__labels"},(a.chartLabel||n)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--1",value:a.chartLabel,onChange:e=>l({chartLabel:e}),allowedFormats:[],placeholder:"Y Axis Label..."}),(a.chartLabel2||n)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--2",value:a.chartLabel2,onChange:e=>l({chartLabel2:e}),allowedFormats:[],placeholder:"Y2 Axis Label..."})),wp.element.createElement(v,{type:"line",attributes:a,setAttributes:l}),wp.element.createElement(t.RichText,{tagName:"figcaption",className:"wdg-c3-chart__caption",value:a.caption,onChange:e=>l({caption:e}),allowedFormats:["core/link","core/bold","core/italic"],placeholder:"Chart caption..."}))},L.save=E,L.transforms={from:[y(L.name)]},e.registerBlockType(L.name,L);var B={apiVersion:2,name:"c3/pie",title:"Pie Chart",description:"A pie chart from c3.js",keywords:["pie","chart"],icon:"chart-pie",category:"charts",example:{},attributes:{},supports:{className:!1,align:["wide","left","right"],color:{background:!0,gradients:!1,text:!1}}};B.attributes=o.merge(o.cloneDeep(p),B.attributes||{}),B.edit=e=>{let{attributes:a,setAttributes:l}=e;return wp.element.createElement("figure",t.useBlockProps({className:h(a).join(" ")}),wp.element.createElement(v,{type:"pie",attributes:a,setAttributes:l}),wp.element.createElement(t.RichText,{tagName:"figcaption",className:"wdg-c3-chart__caption",value:a.caption,onChange:e=>l({caption:e}),allowedFormats:["core/link","core/bold","core/italic"],placeholder:"Chart caption..."}))},B.save=E,B.transforms={from:[y(B.name)]},e.registerBlockType(B.name,B);var _={apiVersion:2,name:"c3/spline",title:"Spline Chart",description:"A spline chart from c3.js",keywords:["area","chart","spline","line"],icon:"chart-line",category:"charts",example:{},attributes:{},supports:{className:!1,align:["wide","left","right"],color:{background:!0,gradients:!1,text:!1}}};_.attributes=o.merge(o.cloneDeep(p),_.attributes||{}),_.edit=e=>{let{attributes:a,setAttributes:l,isSelected:n}=e;return wp.element.createElement("figure",t.useBlockProps({className:h(a).join(" ")}),(a.chartLabel||a.chartLabel2||n)&&wp.element.createElement("div",{className:"wdg-c3-chart__labels"},(a.chartLabel||n)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--1",value:a.chartLabel,onChange:e=>l({chartLabel:e}),allowedFormats:[],placeholder:"Y Axis Label..."}),(a.chartLabel2||n)&&wp.element.createElement(t.RichText,{tagName:"p",className:"wdg-c3-chart__label wdg-c3-chart__label--2",value:a.chartLabel2,onChange:e=>l({chartLabel2:e}),allowedFormats:[],placeholder:"Y2 Axis Label..."})),wp.element.createElement(v,{type:"spline",attributes:a,setAttributes:l}),wp.element.createElement(t.RichText,{tagName:"figcaption",className:"wdg-c3-chart__caption",value:a.caption,onChange:e=>l({caption:e}),allowedFormats:["core/link","core/bold","core/italic"],placeholder:"Chart caption..."}))},_.save=E,_.transforms={from:[y(_.name)]},e.registerBlockType(_.name,_)}(wp.blocks,wp.blockEditor,wp.components,wp.data,wp.element,c3,window.lodash);
//# sourceMappingURL=index.js.map
